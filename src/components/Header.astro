---
import Logo from "../components/Logo.astro";
import Button from "../components/Button.astro";
import Logotype from "../components/Logotype.astro";
---

<header>
    <div class="section">
        <div class="row">
            <div class="container">
                <nav>
                    <a
                        href="#main"
                        aria-label="anchor to top"
                    >
                        <Logo />
                    </a>
                    <Logotype class="logotype" />
                    <a
                        href="#shop"
                        aria-label="anchor to shop"
                    >
                        <Button
                            class="btn-buy"
                            label="Acheter"
                        />
                    </a>
                </nav>
            </div>
        </div>
    </div>
</header>
<script>
    const header = document.querySelector("header");

    const onScroll = (e) => {
        if (window.scrollY > 580) {
            header.classList.add("header-sticky");
        } else {
            header.classList.remove("header-sticky");
        }
    };

    window.addEventListener("scroll", onScroll);
</script>
<style>
    nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 30px 0;
        position: relative;
    }

    header {
        mix-blend-mode: multiply;
        position: fixed;
        z-index: 100;
        width: 100%;
        left: 0;
        transition: 0.5s;
        & .section {
            position: relative;
        }
    }

    .header-sticky {
        @media screen and (min-width: 768px) {
            mix-blend-mode: normal;
        }
        & .logotype {
            opacity: 1;
        }

        & .section {
            @media screen and (min-width: 768px) {
                background: linear-gradient(
                    180deg,
                    #faf6f3 60%,
                    rgba(250, 246, 243, 0) 100%
                );
            }
        }
    }

    .logotype {
        position: sticky;
        left: 50%;
        transform: translateX(-50%);
        margin-bottom: 0;
        display: none;
        opacity: 0;
        transition: opacity 0.5s;

        @media screen and (min-width: 768px) {
            display: block;
        }
    }
</style>
